<% layout('boilerplate') -%> 


<div class="max-w-7xl mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold text-center text-indigo-600 mb-8">Your Transactions</h1>

  <% if (paidListings.length === 0) { %>
    <div class="text-center text-gray-600 text-lg">
      <p>You haven’t made any transactions yet.</p>
    </div>
  <% } else { %>
    <div class="grid grid-cols-3 sm:grid-cols-2 md:grid-cols-3 gap-14">
      <% paidListings.forEach(listing => { %>
        <div class="bg-white shadow-lg rounded-2xl overflow-hidden hover:shadow-xl transition-shadow duration-300">
          <img src="<%= listing.image.url %>" alt="<%= listing.title %>" class="h-96 w-full object-cover">
          <div class="p-4">
            <h2 class="text-xl font-semibold text-indigo-700 mb-2"><%= listing.title %></h2>
            <p class="text-gray-600 text-sm mb-1"><%= listing.description.length > 80 ? listing.description.slice(0, 80) + '...' : listing.description %></p>
            <p class="text-gray-800 mt-2 font-medium">₹<%= listing.price %></p>
            <p class="text-sm text-gray-500">Location: <%= listing.location %>, <%= listing.country %></p>
            <p class="text-sm text-gray-500 mt-1">Razorpay ID: <span class="text-indigo-600 font-medium"><%= listing.tokenPaymentId %></span></p>
          </div>
        </div>
      <% }); %>
    </div>
  <% } %>
</div>


